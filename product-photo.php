<?php include("html/header/head-white-body.php");?>
<?php include("html/header/headerTop.php");?>
<?php include("html/header/mobileHeader.php");?>
<?php include("html/header/footerNotification.php");?>
<?php include("html/header/footerMessage.php");?>
<?php include("html/header/footerSales.php");?>
<?php include("html/header/footerAccount.php");?>

<!-- Content -->
<main class="main_body_content return-management-system ml-0 bg-white pb-0">
   <div class="company-info-sticky listing-page-mob">
      <div class="sticky-container2">
         <div class="mobilenav">
            <nav class="responsive-nav main-secondary-nav">
               <ul class="product-add-ul">
                  <li><a href="product-basic.php" aria-expanded="true">Product Basics</a></li>
                  <li><a href="product-specifications.php" aria-expanded="false">Specifications</a></li>
                  <li><a href="product-pricing.php" aria-expanded="false">Pricing</a></li>
                  <li><a href="product-variants.php" aria-expanded="false">Variants</a></li>
                  <li><a href="product-safety-compliance.php" aria-expanded="false">Safety & Compliance</a></li>
                  <li class="active"><a href="product-photo.php" aria-expanded="false">Photos & Video </a></li>
                  <li><a href="product-shipping.php" aria-expanded="false">Shipping & Pickup </a></li>
               </ul>
            </nav>
         </div>
      </div>
   </div>
   <div class="company-info-sticky listing-page-mob2">
      <div class="sticky-container2">
         <div class="mobilenav">
            <nav class="responsive-nav main-secondary-nav">
               <ul class="product-add-ul list-page-menu-mobile owl-carousel">
                  <li><a href="product-basic.php" aria-expanded="true">Product Basics</a></li>
                  <li><a href="product-specifications.php" aria-expanded="false">Specifications</a></li>
                  <li><a href="product-pricing.php" aria-expanded="false">Pricing</a></li>
                  <li><a href="product-variants.php" aria-expanded="false">Variants</a></li>
                  <li><a href="product-safety-compliance.php" aria-expanded="false">Safety & Compliance</a></li>
                  <li class="active"><a href="product-photo.php" aria-expanded="false">Photos & Video </a></li>
                  <li><a href="product-shipping.php" aria-expanded="false">Shipping & Pickup </a></li>
               </ul>
            </nav>
         </div>
      </div>
   </div>
   <section class="container-fluid h-100 pad-top-h" style="background: #F0F2F5;">
      <div class="row h-100">
         <div class="w-100">
            <div class="mobile_verification_content">
               <div class="d-flex flex-wrap ">
                  <!--Start: Right Side-->
                  <div class="flow-step payout-form shop-listing mt-3 pt-1 pr-2 mr-0 w-100 mob-step-top-0">
                     <!--Start: Box-->
                     <!---------------------------------------START MULTIPLE STEPS FOR REGULAR SALE------------------------------>
                     <section class="signup-step-container  firsttab">
                        <div class="wizard border-0 bg-none round-10">
                           <form role="form" action="index.html" class="login-box">
                              <div class="tab-content" id="main_form" style="padding-top: 0;">
                                 <!---------START FIRST MODULE--------->
                                 <div class="tab-pane active no-left-pad-on-mob" id="productinfo">
                                    <div class="container-search on-mob-bg-white">
                                       <div
                                          class="row pb-4 mb-1 pt-4 mt-3 mob-mt-2 w-search-hide-this desktop-hide fixedonlistingpage">
                                          <div class="col-12 d-flex align-items-center pl-4">
                                             <a class="menuhover tooltip position-relative" href="vendor-dashboard.php"
                                                data-slide="next">
                                                <img src="img/back-arrow-icon.svg" width="19" class="imgnone" />
                                                <img src="img/back-arrow-icon-blue.svg" width="19" class="imgblock" />
                                                <span class="tooltiptext right font-12">Back to Dashboard</span>
                                             </a>
                                             <div class="px-4 st-offer-text">List your Products
                                             </div>
                                          </div>
                                       </div>
                                       <h2 class="new-page-title">PHOTOS & VIDEOS <span class="slide-count">(6/7)</span>
                                       </h2>
                                       <div class="grey-new-wrap px-0 pb-0">
                                          <div class="row">
                                             <div class="col-12">
                                                <div class="field-wrap px-5">
                                                   <div class="smry summary__category">
                                                      <div class="summary__header-container">
                                                         <div class="summary__header pb-4">
                                                            <div class="summary__header-label pb-0">
                                                               <h2 class="textual-display mb-0">PHOTOS & VIDEO
                                                               </h2>
                                                               <span class="imark-icon">
                                                                  <img src="assets/img/new-product/i-mark-icon.svg"
                                                                     alt="" class="click-i-img">
                                                                  <span class="c-tooltipwrap">
                                                                     <span class="tooltiptext">
                                                                        Lorem Ipsum is simply dummy text of the
                                                                        printing
                                                                        and typesetting industry.

                                                                        Lorem Ipsum has been
                                                                        the industry's standard dummy text ever
                                                                        since
                                                                        the 1500s, when an unknown printer took
                                                                        a galley
                                                                        of type and scrambled it to make a type
                                                                        specimen
                                                                        book.
                                                                        <span class="tooltip-close-icon"><img
                                                                              src="img/close-button.svg" alt=""></span>
                                                                     </span>
                                                                  </span>
                                                               </span>
                                                            </div>
                                                            <span class="summary__header-s2 d-flex">Please read
                                                               our picture standards</span>
                                                            <button type="button" class="remove-all-btn"
                                                               id="remove-btn"><img
                                                                  src="assets/img/garbage-can-icon.svg" alt="">Remove
                                                               all</button>
                                                         </div>
                                                      </div>


                                                   </div>

                                                   <div class=" pt-4 d-flex align-items-center gap-4">
                                                      <div class="tcat-wrap-left-img variant-table-img">
                                                         <img src="assets/img/image-gallery-icon.svg" alt="">
                                                      </div>
                                                      <div class="tcat-wrap-left-cont">
                                                         <h3>Mens Shirt</h3>
                                                         <h3>Short sleeve blue</h3>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>

                                          <div class="px-5 py-5">
                                             <div class="row">
                                                <div class="col-12">
                                                   <div class="image-counter">7 of 24 photos</div>
                                                   <div class="error-top-msg-box">
                                                      <img src="assets/img/new-product//exclamation.svg" width="16"
                                                         alt="">
                                                      <p>Please fix your error(s). <button Type="button">Remove
                                                            media with errors</button></p>
                                                   </div>
                                                   <div id="sortableImgThumbnailPreview" class="new-image-upload-box">
                                                      <div class="new-photo-wrap" id="dropFiles">
                                                         <label for="files">Upload
                                                            Pictures<span>or Drag &
                                                               Drop</span>
                                                         </label>
                                                         <input id="files" type="file" multiple />
                                                      </div>
                                                      <div class="new-video-wrap">
                                                         <label for="files-video">Upload
                                                            Video<span>or Drag &
                                                               Drop</span>
                                                         </label>
                                                         <input id="files-video" type="file" accept="video/*" />
                                                      </div>
                                                      <div id="uploaded-videos"></div>

                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="grey-new-wrap px-0 pb-0 mt-5">
                                          <div class="row">
                                             <div class="col-12">
                                                <div class="field-wrap px-5">
                                                   <div class=" pt-0 d-flex align-items-center gap-4">
                                                      <div class="tcat-wrap-left-img variant-table-img">
                                                         <img src="assets/img/image-gallery-icon.svg" alt="">
                                                      </div>
                                                      <div class="tcat-wrap-left-cont">
                                                         <h3>Mens Shirt</h3>
                                                         <h3>Short sleeve white</h3>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>

                                          <div class="px-5 py-5">
                                             <div class="row">
                                                <div class="col-12 col-lg-3">
                                                   <div class="image-counter">7 of 24 photos</div>
                                                   <div class="error-top-msg-box">
                                                      <img src="assets/img/new-product//exclamation.svg" width="16"
                                                         alt="">
                                                      <p>Please fix your error(s). <button Type="button">Remove
                                                            media with errors</button></p>
                                                   </div>
                                                   <div id="sortableImgThumbnailPreview" class="new-image-upload-box">
                                                      <div class="new-photo-wrap" id="dropFiles">
                                                         <label for="files">Upload
                                                            Pictures<span>or Drag &
                                                               Drop</span>
                                                         </label>
                                                         <input id="files" type="file" multiple />
                                                      </div>

                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="modal-footer py-5 px-0 border-0">
                                          <button type="button"
                                             class="btn btn-save cancel-btn p-3 popdiscard trigger-close uk-modal-close">Save
                                             as Draft</button>
                                          <a href="product-shipping.php" type="button"
                                             class="btn btn-save popbutton hover-effect blue-btn p-3">Save</a>
                                       </div>

                                    </div>
                                 </div>
                                 <!---------END FIRST MODULE--------->
                              </div>
                           </form>
                        </div>
                     </section>
                     <!---------------------------------------END MULTIPLE STEPS------------------------------>
                  </div>
               </div>
            </div>
         </div>
   </section>
</main>

<!-- / Content -->
<?php include("html/popups/popup.php");?>
<?php include("html/footer/footer.php");?>
<script type="text/javascript">
document.getElementById('files').addEventListener('change', handleFileSelect, false);

function handleFileSelect(evt) {

   var files = evt.target.files;
   var output = document.getElementById("sortableImgThumbnailPreview");

   // Loop through the FileList and render image files as thumbnails.
   for (var i = 0, f; f = files[i]; i++) {

      // Only process image files.
      if (!f.type.match('image.*')) {
         continue;
      }

      var reader = new FileReader();


      // Closure to capture the file information.
      reader.onload = (function(theFile) {
         return function(e) {
            $('.new-photo-wrap').addClass('small-vers');
            $('.new-image-upload-box').addClass('small-vers-upload');
            $('.new-photo-wrap').removeClass('highlightDropArea');
            $('#remove-btn').addClass('show');
            $('.error-top-msg-box').addClass('show');
            $('.image-counter').addClass('show');
            // Render thumbnail.
            var imgThumbnailElem =
               "<div class='RearangeBox imgThumbContainer'><img class='imgRemoveBtn' onclick='removeThumbnailIMG(this)' src='assets/img/garbage-can-icon.svg' alt=''><div class='IMGthumbnail' ><img  src='" +
               e.target.result + "'" + "title='" + theFile.name + "'/></div><div class='imgName'>" + theFile
               .name + "</div><span class='section-notice__main'>Must be over 500 pixels wide</span></div>";

            output.innerHTML = output.innerHTML + imgThumbnailElem;

            $(function() {
               $("#sortableImgThumbnailPreview").sortable({
                  connectWith: ".RearangeBox",


                  start: function(event, ui) {
                     $(ui.item).addClass("dragElemThumbnail");
                     ui.placeholder.height(ui.item.height());

                  },
                  stop: function(event, ui) {
                     $(ui.item).removeClass("dragElemThumbnail");
                  }
               });
               $("#sortableImgThumbnailPreview").disableSelection();
            });



         };
      })(f);

      // Read in the image file as a data URL.
      reader.readAsDataURL(f);
   }
}

function removeThumbnailIMG(elm) {
   elm.parentNode.outerHTML = '';
   var parents = document.querySelectorAll('#sortableImgThumbnailPreview');
   for (var i = 0; i < parents.length; i++) {
      var children = parents[i].querySelectorAll('.RearangeBox');
      if (children.length < 1) {
         $('.new-photo-wrap').removeClass('small-vers');
         $('.new-image-upload-box').removeClass('small-vers-upload');
         $('#remove-btn').removeClass('show');
         $('.error-top-msg-box').removeClass('show');
         $('.image-counter').removeClass('show');
      }
   }

}
</script>
